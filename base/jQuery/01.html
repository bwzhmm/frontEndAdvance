<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
    <script src="./jquery-3.3.1.js"></script>
  </head>
  <body>
    <div id="test-highlight">
      <p>如何编写<span>JQuery</span><span>Plugin</span></p>
        <p>编写<span>JQuery</span><span>Plugin</span>，要设置<span>默认值</span>，并允许用户修改<span>默认值</span>，或者运行时传入其他值</p>
    </div>


    <a id="test-link" href="#">点我吧</a>
    <div class="test-div">
      <ul>
        <li><span>bs</span></li>
      </ul>
    </div>
    <div id="test-jquery">
      <p id="para-1" class="color-red">Javascript</p>
      <p id="para-2" class="color-green">Haskell</p>
      <p class="color-red color-green">Erlang</p>
      <p name="name" class="color-black">Python</p>
      <form class="test-form" target="_blank" action="#0" onsubmit="return false;">
        <legend>注册新用户</legend>
        <fieldset>
          <p><label>名字：</label><input name="name"></p>
          <p><label>邮件：</label><input name="email"></p>
          <p><label>口令：</label><input name="password" type="password"></p>
          <p><button type="submit" >注册</button></p>

        </fieldset>
      </form>
      <form class="test-form1" target="_blank" action="#0" onsubmit="return false;">

          <p><label>Name：</label><input name="name"></p>
          <p><label>Email：</label><input name="email"></p>
          <p><label>Password：</label><input name="password" type="password"></p>
          <p>Gender：
            <label><input name="gender" type="radio" value="m" checked>Male</label>
            <label><input name="gender" type="radio" value="f" checked>Female</label>
            </p>
          <p><label>City：
            <select name="city">
              <option value="BJ" selected>Beijing</option>
              <option value="SH" >Shanghai</option>
              <option value="CD" >Chengdu</option>
              <option value="XM" >Xiamen</option>
            </select>
          </label></p>
          <p><button type="submit" >Submit</button></p>
      </form>

    </div>
    <!-- $本质上就是一个函数，但函数也是对象，所有$除可以直接调用外，有很多其他属性 -->
  <script type="text/javascript">
      var obj = {};
      //获取所有表单输入元素
      var input = $('#test-form1 :input');
      //过滤没有选中的单选框和按钮
      input = input.filter(function(){
        if((this.type === "radio" && !this.checked) || this.tagName==='BUTTON'){
          return false;
        }
        return true;
      });
      //遍历对象 name作对象的key，value做值
      input.map(function(){
        obj[this.name] = this.value;
      });
      var json = JSON.stringify(obj);
      var test1 = $('#para-1').text(12).html();
      console.log('test1',test1);
      var div1 = $('.test-div>ul');
      var ps = document.createElement('li');
      ps.innerHTML = '<span>lascal</span>';
      div1.append(ps);
      div1.append('<li><span>cello</span></li>');
      div1.append('<li><span>aua</span></li>');
      //排序添加
      var li = div1.find('li');
      li.sort(function(x,y){
      if(x.innerHTML>y.innerHTML){ return 1;}
      else if (x.innerHTML<y.innerHTML) {
         return -1;
         }
          });
        var div2 = $('.test-div>ul');
      div2.append(li);
    //获取超链接
    var a = $('#test-link');
    a.on('click',function(){
      alert('hello!');
    });
    //简写方法
    a.click(function(){
      alert('123');
    });
    //编写插件
    $.fn.highlight = function(options){
    	//合并默认值和用户设定值
    	var opts = $.extend({},$.fn.highlight.defaults,options);
    	this.css('backgroundColor',opts.backgroundColor).css('color',opts.color);
    	return this;
    }
    //设定默认值；
    $.fn.highlight.defaults = {
    	color:'red',
    	backgroundColor:'blue'
    }


    $('#test-highlight p:first-child span').highlight();
      $('#test-highlight p:last-child span').highlight({
        color:'yellow'
      });

  </script>
  </body>
</html>
